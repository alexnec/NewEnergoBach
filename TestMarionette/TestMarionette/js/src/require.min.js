"use strict";
App.DefineCSS = function (e, n) {
    var i, t, s, p = App.Define.m;
    void 0 === p[e] && (p[e] = {
        l: 1,
        r: {},
        p: {},
        cb: function () { }
    },
    s = e.replace(/[\W]/g, "-"),
    t = $('<div class="g-module-' + s + '" style="display:none;"></div>'),
    $("body").append(t),
    "hidden" !== t.css("visibility") && (i = e,
    App.debug || ".css" != i.substring(i.length - 4).toLowerCase() || ".min.css" == i.substring(i.length - 8).toLowerCase() || (i = i.substring(0, i.length - 4) + ".min.css"),
    i = i + "?_=" + App.version,
    s = document.createElement("link"),
    s.href = i,
    s.rel = "stylesheet",
    s.type = "text/css",
    s.media = "only x",
    setTimeout(function () {
        s.media = "all"
    }),
    window.document.getElementsByTagName("head")[0].appendChild(s)),
    t.remove(),
    void 0 !== n && setTimeout(function () {
        n.call(App)
    }))
};

App.Define = function (e, n, i) {
    var t, s, p, o = App.Define.m;

    var r = function (e) {
        var n, i, t = 0;
        for (n in e.r)
            e.r.hasOwnProperty(n) && t++;
        if (0 == t && 0 == e.l) {
            try {
                e.cb(App)
            } catch (s) {
                console.log("Error:", e.nm, s)
            }
            e.l = 1;
            for (n in e.p)
                e.p.hasOwnProperty(n) && (i = e.p[n],
                e.p.splice(n, 1),
                delete i.r[e.nm],
                r(i))
        }
    };

    var l = function (e, n) {
        n = void 0 === n ? !0 : n;
        for (s in e)
            e.hasOwnProperty(s) && (s = e[s],
            ".css" == s.substring(s.length - 4).toLowerCase() ? n && App.DefineCSS(s) : (void 0 === o[s] && (o[s] = {
                l: 0,
                r: {},
                p: [],
                cb: function () { },
                nm: s
            },
            n && (t = s,
            App.debug || ".js" != t.substring(t.length - 3).toLowerCase() || ".min.js" == t.substring(t.length - 7).toLowerCase() || (t = t.substring(0, t.length - 3) + ".min.js"),
            $.ajax({
                cache: !1,
                url: t,
                success: function (e) {
                    return function (n) {
                        ".html" == e.nm.substring(e.nm.length - 5).toLowerCase() && (App.Define.file[e.nm] = n),
                        r(e)
                    }
                } (o[s])
            }))),
            0 == o[s].l && (p.r[s] = 1,
            o[s].p.push(p))))
        };


   void 0 === o[e] ? (p = {
            l: 0,
            r: {},
            p: [],
            nm: e
        },
    "" !== e && (o[e] = p)) : p = o[e],
    p.cb = i,
    "object" != typeof n[0] ? l(n) : (l(n[0]),
    App.debug ? l(n[2]) : (l(n[1]),
    l(n[2], !1))),
    r(p)

    if (void 0 === o[e]) {
     (p = {
        l: 0,
        r: {},
        p: [],
        nm: e
    },
    "" !== e && (o[e] = p)) 
    }
    else {
         p = o[e],
        p.cb = i,
        "object" != typeof n[0] ? l(n) : (l(n[0]),
        App.debug ? l(n[2]) : (l(n[1]),
        l(n[2], !1))),
        r(p)
    }
}
,
App.Require = function (e, n) {
    App.Define("", e, n)
}
,
App.Define.m = {},
App.Define.file = {};
